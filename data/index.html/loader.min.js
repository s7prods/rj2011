"use strict";!function(){function load_next_script(){for(;;){var pFirst=loaderData.scripts[currentScriptLoadProgress++];if(!pFirst)break;if(pFirst.condition)try{if(!eval(pFirst.condition))continue}catch(e){console.warn("Error: error in condition",pFirst.condition,":",e);continue}var el=document.createElement("script");if(el.src=pFirst.url,el.required=pFirst.required,el.onload=pFirst.async?loadedEvent_async:loadedEvent_syncscript,el.onerror=pFirst.async?failedEvent_async:failedEvent_syncscript,pFirst.onload)try{el._$onLoadEvent=new Function(pFirst.onload)}catch(e){console.warn("Failed to construct onload event handler","\nData:",pFirst,"\nError:",e)}if((document.head||document.documentElement).append(el),!pFirst.async)break}}function loadedEvent_syncscript(e){if(reportProgress("["+datestr()+"] 已加载资源 "+(e.target.src||e.target.href||"")),load_next_script(),e.target._$onLoadEvent)try{e.target._$onLoadEvent(e.target)}catch(t){console.warn("Failed to execute onload event handler","\nFunction:",e.target._$onLoadEvent,"\nError:",t)}}function loadedEvent_async(e){if(reportProgress("["+datestr()+"] 已加载资源 "+(e.target.src||e.target.href||"")),e.target._$onLoadEvent)try{e.target._$onLoadEvent(e.target)}catch(t){console.warn("Failed to execute onload event handler","\nFunction:",e.target._$onLoadEvent,"\nError:",t)}}function failedEvent_syncscript(e){reportProgress(divFromText('<span style="color: red">['+datestr()+"]"+(e.target.required?" [ERROR]":"")+" 资源加载失败: "+(e.target.src||"")+"</span>")),e.target.required||load_next_script()}function failedEvent_async(e){reportProgress(divFromText('<span style="color: red">['+datestr()+"]"+(e.target.required?" [ERROR]":"")+" 资源加载失败: "+(e.target.src||e.target.href||"")+"</span>"))}function datestr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"."+e.getMilliseconds()}function reportProgress(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(HTMLElement.prototype.isPrototypeOf(e))return details.prepend(e),e;var t=document.createElement("div");return t.append(document.createTextNode(e)),details.prepend(t),t}function divFromText(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("div");return t.innerHTML=e,t}var details=document.getElementById("loading_details");reportProgress("Loading...");var loaderData=null,currentScriptLoadProgress=0;fetch("data/index.html/loader.json").then(function(e){return e.json()}).then(function(e){if(loaderData=e,e.styles){var t=!0,r=!1,n=void 0;try{for(var o,a=e.styles[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var d=o.value,i=document.createElement("link");i.rel="stylesheet",i.href=d.url,i.onload=loadedEvent_async,i.onerror=failedEvent_async,(document.head||document.documentElement).append(i)}}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}}e.scripts&&load_next_script()}).catch(function(e){reportProgress(divFromText('<div style="color: red; font-weight: bold;">数据加载失败</div><details><summary>详细信息</summary><div>'+String(e)+"</div></details>"))})}();