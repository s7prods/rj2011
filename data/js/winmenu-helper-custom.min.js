!function(e){var t="WINCLASS-_32768";function n(){let e=-1/0;for(let t of arguments)t>e&&(e=t);return e}function i(e){e.preventDefault(),e.stopPropagation()}e.CreatePopupMenu=function(){let e=document.createElement("div");e.classList.add(t);let n=document.createElement("div");return n.classList.add("backdrop"),n.onmouseup=function(e){e.preventDefault(),e.stopPropagation();let t=document.createEvent("MouseEvent");return t.initMouseEvent("mouseup"),n.parentElement.dispatchEvent(t),!1},e.append(n),e.append(document.createElement("div")),e.addEventListener("mouseup",i),e},e.AppendMenu=function(e,t,n,o,l){if("separator"===t){let t=document.createElement("hr");return t.tabIndex=-1,t.setAttribute("disabled",""),t.addEventListener("mouseup",i),e.lastElementChild.append(t),t}if(t===String){let t=document.createElement("div");return t.tabIndex=0,t.append(document.createTextNode(o)),l&&t.addEventListener("mouseup",l),t.onkeydown=function(e){if(-1!==e.key.indexOf("Enter")){var t=document.createEvent("HTMLEvents");t.initEvent("mouseup",!0,!0),e.target.dispatchEvent(t)}},n&&n.disabled?(t.addEventListener("mouseup",i),t.setAttribute("disabled",""),t.tabIndex=-1):t.setAttribute("role","button"),n&&n.align&&(t.style.textAlign=n.align),e.lastElementChild.append(t),t}},e.TrackPopupMenu=function(t,o,l,d=0){document.documentElement.append(t),"center"===o&&(o=document.documentElement.clientWidth/2-t.lastElementChild.clientWidth/2),"center"===l&&(l=document.documentElement.clientHeight/2-t.lastElementChild.clientHeight/2),"number"==typeof o&&(t.lastElementChild.style[d&&d.align&&d.align.right?"right":"left"]=o+"px"),"number"==typeof l&&(t.lastElementChild.style[d&&d.align&&d.align.bottom?"bottom":"top"]=l+"px");{const i=n(document.documentElement.offsetWidth,e.innerWidth),o=n(document.documentElement.offsetHeight,e.innerHeight);parseInt(t.lastElementChild.style.left)+t.lastElementChild.clientWidth>i&&(t.lastElementChild.style.left="",t.lastElementChild.style.right="3px"),parseInt(t.lastElementChild.style.top)+t.lastElementChild.clientHeight>o&&(t.lastElementChild.style.top="",t.lastElementChild.style.bottom="3px")}let r=function(){return i.apply(i,arguments)},a=null,s=function(e){if(/tab/i.test(e.key))return e.preventDefault(),e.stopPropagation(),!1;if(!/Up/i.test(e.key)&&!/down/i.test(e.key))return/escape/i.test(e.key)?c(e):void 0;{if(a||(a=t.querySelector("[tabindex]:not([disabled])")),!a)return!1;let n=a;for(;n=n[(/Up/i.test(e.key)?"previous":"next")+"ElementSibling"];)if(null==n.getAttribute("disabled")){a=n,n.focus();break}}};function u(e){e.removeAttribute("open"),e.remove(),setTimeout((function(){document.removeEventListener("contextmenu",r,{capture:!0})}),500),e.removeEventListener("mouseup",c,{capture:!1}),e.removeEventListener("keydown",s,{capture:!0})}function c(e){return d&&d.closeOnBlur?u(t):!e.target.classList.contains("backdrop")&&!e.target.classList.contains("disabled")&&e.target!==t.lastElementChild&&(u(t),void i(e))}return t.setAttribute("open",""),(t.querySelector("[tabindex]:not([disabled])")||{focus:new Function}).focus(),t.addEventListener("mouseup",c,{capture:!1}),document.addEventListener("contextmenu",r,{capture:!0}),t.addEventListener("keydown",s,{capture:!0}),d&&d.closeOnBlur&&(t.lastElementChild.addEventListener("mouseover",(function(){t.firstElementChild.onmouseover=t.firstElementChild.onpointerover=()=>u(t)}),{once:!0}),t.firstElementChild.onmouseover=t.firstElementChild.onpointerover=null),!0},function(e){let t=document.createElement("style");t.innerHTML=e,document.head.append(t)}(`\n    .${t} {\n        user-select: none;\n        cursor: default;\n\n        visibility: hidden;\n    }\n    .${t}[open] {\n        visibility: visible;\n    }\n    .${t} > *:not(:nth-child(1)) {\n        position: fixed;\n        z-index: 800001;\n\n        background: #ffffff;\n        box-shadow: 3px 3px 2px 0px #aaa;\n\n        display: flex;\n        flex-direction: column;\n\n        min-width: 80px;\n        border: 1px solid #ccc;\n        padding: 5px;\n\n        transition: opacity 0.2s;\n        opacity: 0;\n    }\n    .${t}[open] > * {\n        opacity: 1;\n    }\n    .${t} > * > * {\n        display: block;\n        padding: 2px;\n        cursor: pointer;\n    }\n    .${t} > * > *:not(:nth-child(1)) {\n        margin-top: 3px;\n    }\n    .${t} > * > *[disabled] {\n        color: gray;\n        cursor: not-allowed !important;\n    }\n    .${t} > * > *:hover:not([disabled]) {\n        background: #D0D0D0;\n    }\n    .${t}[open] > *.backdrop {\n        position: fixed;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 800001;\n        background: rgba(0, 0, 0, 0);\n        cursor: not-allowed;\n    }\n    .${t} > * > hr {\n        width: 100%;\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n    }\n    `)}(window.exports||window),window.dependencies&&dependencies.done("wm_helper");